{"remainingRequest":"/home/agustin/Desktop/Vue/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/agustin/Desktop/Vue/app/src/components/Login.vue?vue&type=style&index=0&id=ef68022e&scoped=true&lang=css&","dependencies":[{"path":"/home/agustin/Desktop/Vue/app/src/components/Login.vue","mtime":1578255786165},{"path":"/home/agustin/Desktop/Vue/app/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/agustin/Desktop/Vue/app/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/agustin/Desktop/Vue/app/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/agustin/Desktop/Vue/app/node_modules/vuetify-loader/lib/loader.js","mtime":1567240333000},{"path":"/home/agustin/Desktop/Vue/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/agustin/Desktop/Vue/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKI2NvbnRhaW5lciB7CiAgYmFja2dyb3VuZDogdXJsKCIuLi9hc3NldHMvYmFja2dyb3VuZDIuanBnIikgbm8tcmVwZWF0IGNlbnRlciBjZW50ZXIgZml4ZWQ7CiAgLXdlYmtpdC1iYWNrZ3JvdW5kLXNpemU6IGNvdmVyOwogIC1tb3otYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsKICAtby1iYWNrZ3JvdW5kLXNpemU6IGNvdmVyOwogIGJhY2tncm91bmQtc2l6ZTogY292ZXI7Cn0KI2luZ3Jlc2FyIHsKICBjb2xvcjogd2hpdGU7Cn0KI2NyZWFyIHsKICB0ZXh0LXRyYW5zZm9ybTogaW5oZXJpdDsKfQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-app id=\"container\">\n    <v-container fluid class=\"mx-auto my-auto\">\n      <v-row>\n        <v-col cols=\"12\">\n          <v-row justify=\"center\">\n            <v-card elevation=\"10\" class=\"mt-5 px-4\" shaped>\n              <v-card-title>Iniciar sesión</v-card-title>\n              <v-card-text>\n                <v-form\n                  v-model=\"valid\"\n                  @submit=\"formSubmit\"\n                  ref=\"form\"\n                >\n                  <v-text-field\n                    v-model=\"email\"\n                    :rules=\"emailRules\"\n                    label=\"E-mail\"\n                    prepend-icon=\"mdi-account-circle\"\n                    required\n                  ></v-text-field>\n                  <v-text-field\n                    v-model=\"password\"\n                    :rules=\"[v => !!v || 'Debe ingresar su contraseña']\"\n                    :append-icon=\"showPass ? 'mdi-eye-off' : 'mdi-eye'\"\n                    :type=\"showPass ? 'password' : 'text'\"\n                    name=\"input-10-2\"\n                    label=\"Contraseña\"\n                    class=\"input-group--focused\"\n                    prepend-icon=\"mdi-lock\"\n                    @click:append=\"showPass = !showPass\"\n                    required\n                  ></v-text-field>\n                  <div class=\"pt-3\">\n                    <v-btn\n                    :disabled=\"!valid\"\n                    block rounded\n                    color=\"info\"\n                    id=\"ingresar\"\n                    type=\"submit\"\n                  >Ingresar</v-btn>\n                  </div>\n                  <center class=\"pt-4 pb-1\">\n                    <p style=\"color:red\">{{message}}</p>\n                  </center>\n                </v-form>\n              </v-card-text>\n            </v-card>\n          </v-row>\n        </v-col>\n      </v-row>\n    </v-container>\n  </v-app>\n</template>\n\n<script>\nexport default {\n  name: \"Login\",\n\n  data: () => ({\n    email: '',\n    password: '',\n    showPass: true,\n    emailRules: [\n      v => !!v || \"Debe ingresar su e-mail\",\n      v => /.+@.+\\..+/.test(v) || \"Este e-mail no es válido\", // algo@algo.algo\n      v => (v || \"\").indexOf(\" \") < 0 || \"Este e-mail no es válido\" // sin espacios\n    ],\n    message: '',\n    valid: false\n  }),\n  methods: {\n    formSubmit(e) {\n      e.preventDefault();\n      let me = this;\n      this.axios.post('http://localhost:5555/login', {\n        email: this.email,\n        password: this.password\n      },)\n      .then(function (response) {\n        me.message = '';\n        // Guardo el accountId para usarlo en operaciones futuras\n        me.$store.commit('setAccountId', response.data.id);\n        if (response.data.role == 1) {\n          me.$router.push('/listadoSocio');\n        }\n        // response.data.role == 1 socio\n        // response.data.role == 0 bibliotecario\n      })\n      .catch(function (error) {\n        if (error.response && error.response.status == 404) {\n          me.message = 'El e-mail y/o la contraseña son incorrectos';\n        } else if ((error.response && error.response.status == 500) || error.message) {\n          me.message = 'Hubo un error, por favor vuelva a intentar en un momento.';\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n#container {\n  background: url(\"../assets/background2.jpg\") no-repeat center center fixed;\n  -webkit-background-size: cover;\n  -moz-background-size: cover;\n  -o-background-size: cover;\n  background-size: cover;\n}\n#ingresar {\n  color: white;\n}\n#crear {\n  text-transform: inherit;\n}\n</style>\n"]}]}